# Instagram Database

## A note on PostgreSQL

PostgreSQL stores table data in what are called **heaps**. A heap is simply a file stored on a computer, but, as you may know, reading a file on a computer is a somewhat "expensive" task. Whenever a query triggers this type of operation, it is known as a **full table scan**.

To eliminate this type of behavior, Postgres uses what are called **indexes**. An index is an in-memory data store that points to particular places in a heap to make read and write operations faster. So, each part in a heap has a particular address, and this address can be stored as an index.

How Postgres creates this type of address system is through what are called **blocks** and **tuples**. A block is an 8kb section inside of a heap whose intent is to organize a heap into sections. Each particular section or *block* is composed of *tuples*. A tuple is simply a record in a table. It is in this  fashion that indexes can be used to store the block and tuble of a record, it is how Postgres can assign addresses to records.

In Postgres, indexes are usually *autogenerated* for primary keys and unique column values, when you think about this, it makes sense, because there will never be two tuples in a heap that have the same *primary key* or *unique value*.

How Postgres stores indexes in and of themselves is through a *B-Tree*, or *binary tree*. The binary tree stores the indexed values in memory and sorts them into a binary search tree to make querying faster.

## The Query Processing Pipeline

